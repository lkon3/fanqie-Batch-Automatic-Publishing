# 快速开始指南

## 第一次使用（5分钟上手）

### 步骤 1: 安装依赖

打开命令行，在项目目录执行：

```bash
pip install -r requirements.txt
```

### 步骤 2: 启动程序

```bash
python main.py
```

### 步骤 3: 测试登录

1. 选择 `3. 测试登录`
2. 浏览器会自动打开
3. 在浏览器中扫码登录番茄小说
4. 登录成功后返回命令行按回车

### 步骤 4: 测试小说解析

1. 选择 `2. 测试小说解析`
2. 输入测试小说路径: `test_novel.txt`
3. 查看是否能正确识别章节（应该识别出5章）

### 步骤 5: 开始发布

有两种方式：

#### 方式 A: 立即发布
1. 选择 `4. 立即发布章节`
2. 输入小说路径
3. 输入要发布的章节数（如 `1` 或 `all`）

#### 方式 B: 定时发布
1. 先修改 `config.json`，设置发布时间
2. 选择 `5. 启动定时发布`
3. 程序会按设定时间自动发布

## 常用命令

```bash
# 启动主程序
python main.py

# 测试解析器
python parser.py

# 单独测试登录
python publisher.py

# 单独运行调度器
python scheduler.py
```

## 配置示例

### 每天发布2章（早晚各一次）

```json
{
  "chapters_per_day": 2,
  "publish_times": ["08:00", "20:00"]
}
```

### 每天发布3章

```json
{
  "chapters_per_day": 3,
  "publish_times": ["08:00", "14:00", "20:00"]
}
```

## 小说文件要求

- 格式：.txt 文本文件
- 编码：UTF-8 或 GBK
- 章节格式示例：
  - 第一章 开始
  - 第二章 内容
  - 第3章 标题

## 注意事项

1. **首次必须登录** - 使用测试登录功能扫码登录一次
2. **保持网络畅通** - 发布需要连接番茄小说网站
3. **不要关闭浏览器** - 发布过程中不要关闭浏览器窗口
4. **定时发布需保持运行** - 定时模式下程序需持续运行

## 故障排除

### 问题：ChromeDriver 错误

```bash
# 手动安装 ChromeDriver
pip install webdriver-manager
```

### 问题：无法识别章节

- 确保章节标题格式正确
- 检查文件编码是否为 UTF-8 或 GBK
- 使用测试解析功能验证

### 问题：登录失败

- 删除 `chrome_profile` 目录重试
- 检查网络连接
- 确认番茄小说网站可访问

## 进阶使用

### 查看发布进度

```bash
cat publish_state.json
```

### 重新开始发布

删除 `publish_state.json` 文件即可重新开始

### 导出章节

使用测试解析功能，选择导出章节到 `chapters/` 目录

## 需要帮助？

查看详细文档：`README.md`
